values:
  DOTGEN_SOURCE_DIR: "{{ .CACHE_DIR }}/dotgen/{{ .SHELL }}/source/rc"

  deps:
    # Forces a rerun if any file is changed
    files:
      00-zsh.rc: "{{ join .DOTGEN_CURRENT_DIR "rc/00-zsh.rc" | size }}"

---

commands:
  - name: zsh
    doc: zshrc
    kind: raw
    shell:
      - zsh
    cmd: |
      {{- copy (join .DOTGEN_CURRENT_DIR "rc/00-zsh.rc") (join .DOTGEN_SOURCE_DIR "00-zsh.rc") }}
      . "{{ .DOTGEN_SOURCE_DIR }}/00-zsh.rc"
